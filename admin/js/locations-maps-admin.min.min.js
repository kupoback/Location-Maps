(function(o){function n(){let lat=document.getElementById("_map_lat").value;let lng=document.getElementById("_map_lng").value}function q(){o("#get_geoloc").on("click",function(){let address=o("#_map_address").val()||"";let address2=o("#_map_address2").val()||"";let city=o("#_map_city").val()||"";let state=o("#_map_state").val()||"";let zip=o("#_map_zip").val()||"";let country=o("#_map_country").val()||"";let phone=o("#_map_phone").val()||"";let website=o("#_map_website").val()||"";let paramAddress={address:address,address2:address2,city:city,state:state,zip:zip,country:country};o("#map-loading").addClass("show");o(".map-row").addClass("loading");o(".map-field input, .map-field.disabled input").prop("readonly",true);o.ajax({url:"/wp-json/locations/v1/place/",method:"GET",data:{address:paramAddress},complete:function(){o("#map-loading").removeClass("show");o(".map-row").removeClass("loading");o(".map-field:not(.readonly) input").prop("readonly",false)},success:function(a){let lat=parseFloat(a.lat);let lng=parseFloat(a.lng);document.getElementById("lat_text").value=lat;document.getElementById("lng_text").value=lng;document.getElementById("_map_lat").value=lat;document.getElementById("_map_lng").value=lng;console.log(lat);let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:address,address2:address2,city:city,state:state,zip:zip,lat:lat,lng:lng,phone:phone,website:website,id:o("#get_geoloc").data("postid")};o.post(MAP_ADMIN.adminURL,returnData,function(b){alert("Address and Place Saved! Please be sure to hit Update if you made any other content changes.")})},error:function(a){alert("Stopping function to grab location. There has been an error!")}})})}function k(){o("#save_address").on("click",function(){let address=document.getElementById("_map_address").value||"";let address2=document.getElementById("_map_address2").value||"";let city=document.getElementById("_map_city").value||"";let state=document.getElementById("_map_state").value||"";let zip=document.getElementById("_map_zip").value||"";let lat=document.getElementById("_map_lat").value||"";let lng=document.getElementById("_map_lng").value||"";let phone=document.getElementById("_map_phone").value||"";let email=document.getElementById("_map_email").value||"";let website=document.getElementById("_map_website").value||"";let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:address||"",address2:address2||"",city:city||"",state:state||"",zip:zip||"",lat:lat||"",lng:lng||"",email:email||"",phone:phone||"",website:website||"",id:o("#get_geoloc").data("postid")};o.post(MAP_ADMIN.adminURL,returnData,function(a){alert('Address saved. If you haven\'t already, click "Get Place" to get the Place Informtaion.')})})}function l(){o("#geo_reset").on("click",function(){let address=document.getElementById("_map_address").value||"";let address2=document.getElementById("_map_address2").value||"";let city=document.getElementById("_map_city").value||"";let state=document.getElementById("_map_state").value||"";let zip=document.getElementById("_map_zip").value||"";let phone=document.getElementById("_map_phone").value||"";let website=document.getElementById("_map_website").value||"";document.getElementById("lat_text").value="";document.getElementById("lng_text").value="";document.getElementById("_map_lat").value="";document.getElementById("_map_lng").value="";let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:address||"",address2:address2||"",city:city||"",state:state||"",zip:zip||"",lat:"",lng:"",phone:phone||"",website:website||"",id:o("#get_geoloc").data("postid")};o.post(MAP_ADMIN.adminURL,returnData,function(a){alert("Data Deleted!")})})}function r(a){for(let i=0;i<a.childNodes.length;i++){let e=a.childNodes[i];if(e.tagName){switch(e.tagName.toLowerCase()){case"input":switch(e.type){case"radio":case"checkbox":e.checked=false;break;case"button":case"submit":case"image":break;case"hidden":default:e.value="";break}break;case"select":e.selectedIndex=0;break;case"textarea":e.innerHTML="";break;default:r(e)}}}}function m(){o("#form-reset").on("click",function(){r(document.getElementById("map-elements"));let returnData={_ajax_nonce:MAP_ADMIN.nonce,action:"geo_cb",address:"",address2:"",city:"",state:"",zip:"",lat:"",lng:"",phone:"",website:"",id:o("#get_geoloc").data("postid")};o.post(MAP_ADMIN.adminURL,returnData,function(a){alert("Data Reset! Please make sure to save the post to update all the address fields..")})})}function p(){o("#get_geoloc").on("click",function(){let address=o("#_map_address").val()||"";let address2=o("#_map_address2").val()||"";let city=o("#_map_city").val()||"";let state=o("#_map_state").val()||"";let zip=o("#_map_zip").val()||"";let country=o("#_map_country").val()||"";let phone=o("#_map_phone").val()||"";let website=o("#_map_website").val()||"";address="12000 E 56th Avenue";city="Denver";state="Colorado";zip="80239";let paramAddress={address:address,address2:address2,city:city,state:state,zip:zip,country:country};o("#map-loading").addClass("show");o(".map-row").addClass("loading");o(".map-field input, .map-field.disabled input").prop("readonly",true);o.ajax({url:"/wp-json/locations/v1/place/",method:"GET",data:{address:paramAddress},complete:function(){o("#map-loading").removeClass("show");o(".map-row").removeClass("loading");o(".map-field:not(.readonly) input").prop("readonly",false)},success:function(a){console.log(a)},error:function(a){console.log(a)}})})}if(o("body").hasClass("post-type-locations")){q();l()}})(jQuery);